<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Document</title>
    <link rel="stylesheet" href="app.css">
</head>
<body>
<!-- 

This is going to be a little web audio experiment where you can paint music :-)

TODO:
 - implement Web Midi input
 - logarithmic scale (frequency doubles by octave)
 - add "undo"

The svg code below might be a bit verbose, I will put the icons together into a glyph font later for easier reuse. 

-->

<svg id="symbols">
  <symbol id="square" viewBox="0 0 128 128">
    <path style="fill:none;stroke:#aad400;stroke-width:4px;stroke-linecap:square;" d="M35,43 l0,40 l30,0 l0,-40 l30,0 l0,40" />
  </symbol>
  <symbol id="sawtooth" viewBox="0 0 128 128">
    <path style="fill:none;stroke:#c83737;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;" d="M30,80 l30,-40 l0,40 l30,-40 l0,40"/>
  </symbol>
  <symbol id="triangle" viewBox="0 0 128 128">
    <path style="fill:none;stroke:#2a7fff;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;" d="M30,80 l17,-40 l17,40 l17,-40 l17,40"/>
  </symbol>
  <symbol id="sine" viewBox="0 0 128 128">
    <path style="fill:none;stroke:#9944ff;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;" d="M30,64 q17,-40 32,0 q17,40 32,0"/>
  </symbol>
  <symbol id="play" viewBox="0 0 128 128">
    <path style="stroke:#aad400;fill:none;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel" d="M33,30 l0,68 l68,-34z"/>
  </symbol>
  <symbol id="pause" viewBox="0 0 128 128">
    <rect style="stroke:#c83737;fill:none;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel" x="30" y="30" width="30" height="68"/>
    <rect style="stroke:#c83737;fill:none;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;" x="68" y="30" width="30" height="68"/>
  </symbol>
  <symbol id="record" viewBox="0 0 128 128">
    <circle style="fill:#c83737" cx="64" cy="64" r="32"/>
  </symbol>
  <symbol id="rewind" viewBox="0 0 128 128">
    <path style="stroke:#4466ff;fill:none;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;" d="M30,64 l34,-34 l0,34 l34,-34 l0,68 l-34,-34 l0,34Z" />
  </symbol>
  <symbol id="clrscr" viewBox="0 0 128 128">
    <path style="stroke:#c83737;stroke-width:4px;stroke-linecap:square;fill:none;" d="M30,30 l68,68 M30,98 l68,-68"/>
  </symbol>
  <symbol id="move" viewBox="0 0 128 128">
    <path style="stroke:#4488ff;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;fill:none;" d="M30,30 l20,0 l-20,20 l0,-20 l68,68 l0,-20 l-20,20 l 20,0 M30,98 l0,-20 l20,20 l-20,0 l68,-68 l0,20 l-20,-20 l20,0"/>
  </symbol>
 <symbol id="cloud" viewBox="0 0 128 128">
   <path style="stroke:#44ccff;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;fill:none;" d="M30,64 q12,0 12,-8 q0,-16 16,-16 q16,0 16,16 q24,0 24,16 q0,16 -16,16  l-42,0 q-16,0 -16,-18 Z"/>
 </symbol>
 <symbol id="disk" viewBox="0 0 128,128">
   <path style="stroke:#44ccff;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;fill:none;" d="M30,30 l52,0 l16,16 l0,52 l-68,0 l 0,-68 M40,30 l0,24 l36,0 l0,-24 M48,30 l0,16 l6,0 l0,-16 M40,98 l0,-30 l48,0 l0,30"/>
 </symbol>
<symbol id="open" viewBox="0 0 128,128">
    <path style="stroke:#ffcc33;stroke-width:4px;stroke-linecap:square;stroke-linejoin:bevel;fill:none;" d="M30,98 l15,-30 l60,0 l-15,30 l-60,0 l0,-45 l8,-8 l8,0 l8,8 l36,0 l0,15"/>
</symbol>
<symbol id="noise" viewBox="0 0 128 128">
<path id="p" d="M30,92.5L32,59.5L34,42L36,32.5L38,35.5L40,41.5L42,84.5L44,60.5L46,52.5L48,77.5L50,88L52,53.5L54,79L56,57.5L58,59L60,37.5L62,45.5L64,88L66,53L68,72L70,90L72,91.5L74,95.5L76,51.5L78,95.5L80,50.5L82,44.5L84,93L86,52L88,61" style="fill:none;stroke:#fff;stroke-width:4px;">
</path>
</symbol>
  
</svg>  

<nav>
  <ul>
    <li><a id="rewBtn" title="record" href="#"><svg><use xlink:href="#rewind"/></svg></a></li>
    <li><a id="playBtn" title="play" href="#"><svg><use xlink:href="#play"/></svg></a></li>
    <li class="hidden"><a id="pauseBtn" href="#"><svg><use xlink:href="#pause"/></svg></a></li>
    <li><a role="type" href="#sine" title="sine"><svg><use xlink:href="#sine"/></svg></a></li>
    <li class="hidden"><a role="type" href="#sawtooth" title="sawtooth"><svg><use xlink:href="#sawtooth"/></svg></a></li>
    <li class="hidden"><a role="type" href="#triangle" title="triangle"><svg><use xlink:href="#triangle"/></svg></a></li>
    <li class="hidden"><a role="type" href="#square" title="square"><svg><use xlink:href="#square"/></svg></a></li>
    <li class="hidden"><a role="type" href="#noise" title="noise"><svg><use xlink:href="#noise"/></svg></a></li>
    <li><a id="moveBtn" href="#move" title="move"><svg><use xlink:href="#move"/></svg></a></li>
    <li><a id="clrBtn" href="#clear" title="clear screen"><svg><use xlink:href="#clrscr"/></svg></a></li>
    <li><a id="dlBtn" href="#disk" title="save"><svg><use xlink:href="#disk"/></svg></a></li>
    <li><a id="ulBtn" href="#disk" title="open"><svg><use xlink:href="#open"/></svg>
      <input id="inputFile" type="file" class="hidden" accept="image/svg+xml"/>
      </a></li>
  </ul>
</nav>
<main>
  <svg id="main">
    <path id="grid" />
    <path id="bounds"/>
    <path id="cursor"/>
  </svg>
</main>
<script src="https://unpkg.com/shake.js@1.2.2/shake.js"></script>
<script src="https://unpkg.com/webmidi@2.0.0-rc.2"></script>
<script src="app.js"></script>
</body>
</html>